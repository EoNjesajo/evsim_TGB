import cv2
import numpy as np


fog = (100,100,100)
wall = (0,0,0)
character = (0,0,255)
destination = (255,0,0)
background = (255,255,255)
# map_list = [[[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#             [1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1],
#             [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1],
#             [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1],
#             [1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1],
#             [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1],
#             [1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1],
#             [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1],
#             [1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1],
#             [1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 1],
#             [1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1],
#             [1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1],
#             [1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 1],
#             [1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1],
#             [1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1],
#             [1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 3, 1],
#             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]],
#            [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#             [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1],
#             [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]]


map_list = {
    'None' :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 3, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '1'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 1, 1, 1, 1, 1, 0, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 0, 1, 1, 1, 1, 1, 1],
             [1, 0, 1, 0, 0, 0, 0, 1],
             [1, 0, 0, 0, 1, 1, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '2'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 1, 1, 1, 0, 0, 1],
             [1, 0, 0, 0, 0, 0, 1, 1],
             [1, 1, 1, 0, 1, 0, 1, 1],
             [1, 0, 0, 0, 1, 0, 0, 1],
             [1, 0, 1, 1, 0, 1, 0, 1],
             [1, 0, 0, 0, 0, 1, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '3'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 0, 1, 0, 1, 1, 1],
             [1, 1, 0, 1, 0, 0, 0, 1],
             [1, 0, 0, 0, 0, 1, 0, 1],
             [1, 0, 1, 1, 0, 1, 0, 1],
             [1, 0, 0, 1, 0, 1, 1, 1],
             [1, 1, 0, 1, 0, 0, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '4'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 1, 0, 0, 0, 0, 1],
             [1, 0, 1, 0, 1, 0, 1, 1],
             [1, 0, 1, 0, 1, 0, 1, 1],
             [1, 0, 0, 0, 1, 0, 1, 1],
             [1, 1, 0, 1, 1, 0, 0, 1],
             [1, 1, 0, 0, 0, 1, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '5'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 0, 0, 0, 0, 0, 1],
             [1, 1, 0, 1, 0, 1, 0, 1],
             [1, 0, 0, 1, 0, 1, 0, 1],
             [1, 1, 1, 1, 0, 1, 1, 1],
             [1, 0, 0, 0, 0, 0, 1, 1],
             [1, 0, 1, 1, 1, 0, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '6'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 1, 0, 0, 0, 0, 1],
             [1, 0, 0, 1, 1, 1, 0, 1],
             [1, 1, 0, 0, 0, 0, 0, 1],
             [1, 0, 0, 1, 0, 1, 1, 1],
             [1, 0, 1, 1, 0, 0, 1, 1],
             [1, 0, 0, 0, 1, 0, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '7'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 0, 0, 0, 1, 0, 1],
             [1, 0, 1, 1, 0, 1, 0, 1],
             [1, 0, 1, 1, 0, 0, 0, 1],
             [1, 0, 1, 1, 1, 0, 1, 1],
             [1, 0, 0, 0, 1, 0, 0, 1],
             [1, 1, 1, 0, 0, 1, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    '8'    :[[1, 1, 1, 1, 1, 1, 1, 1],
             [1, 0, 1, 0, 1, 0, 0, 1],
             [1, 0, 1, 0, 0, 0, 1, 1],
             [1, 0, 1, 0, 1, 0, 0, 1],
             [1, 0, 1, 0, 1, 1, 0, 1],
             [1, 0, 0, 0, 0, 0, 1, 1],
             [1, 0, 0, 0, 1, 0, 0, 1],
             [1, 1, 1, 1, 1, 1, 1, 1]],
    # '1'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 1, 1, 0, 1, 1, 1],
    #          [1, 0, 1, 0, 0, 0, 0, 1],
    #          [1, 0, 1, 0, 1, 1, 0, 1],
    #          [1, 0, 0, 0, 1, 0, 0, 1],
    #          [1, 1, 0, 1, 1, 1, 0, 1],
    #          [1, 1, 1, 1, 1, 1, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '2'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #         [1, 0, 0, 0, 0, 0, 0, 1],
    #         [1, 0, 1, 0, 1, 1, 0, 1],
    #         [1, 1, 1, 0, 0, 1, 1, 1],
    #         [1, 0, 0, 0, 0, 0, 0, 1],
    #         [1, 1, 1, 1, 0, 1, 0, 1],
    #         [1, 1, 1, 1, 1, 1, 3, 1],
    #         [1, 1, 1, 1, 1, 1, 1, 1]],
    # '3'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 1, 1, 1, 1, 1],
    #          [1, 0, 1, 0, 1, 1, 0, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 0, 1, 0, 1, 1, 1],
    #          [1, 1, 0, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '4'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 0, 1, 1, 0, 1],
    #          [1, 1, 0, 0, 1, 0, 0, 1],
    #          [1, 1, 0, 1, 1, 0, 1, 1],
    #          [1, 1, 0, 0, 0, 0, 0, 1],
    #          [1, 0, 0, 1, 1, 0, 1, 1],
    #          [1, 1, 0, 1, 1, 0, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '5'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 1, 1, 1, 0, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 0, 1, 0, 1, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 1, 1],
    #          [1, 1, 1, 1, 1, 0, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '6'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 0, 1, 0, 0, 1],
    #          [1, 0, 0, 1, 0, 0, 0, 1],
    #          [1, 0, 1, 0, 0, 1, 0, 1],
    #          [1, 0, 0, 0, 1, 0, 0, 1],
    #          [1, 1, 0, 1, 0, 0, 0, 1],
    #          [1, 1, 1, 1, 1, 1, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '7'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 1, 0, 1, 0, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 1, 0, 1, 0, 1, 1],
    #          [1, 0, 1, 0, 1, 0, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 0, 1, 1, 1, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    # '8'  :[[1, 1, 1, 1, 1, 1, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 0, 1],
    #          [1, 1, 0, 1, 0, 1, 0, 1],
    #          [1, 1, 1, 0, 0, 1, 1, 1],
    #          [1, 1, 1, 0, 0, 1, 1, 1],
    #          [1, 0, 1, 0, 1, 0, 1, 1],
    #          [1, 0, 0, 0, 0, 0, 3, 1],
    #          [1, 1, 1, 1, 1, 1, 1, 1]],
    'contest' : 
            #  [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            #   [1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1],
            #   [1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1],
            #   [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],
            #   [1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1],
            #   [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1],
            #   [1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
            #   [1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1],
            #   [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1],
            #   [1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1],
            #   [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 3, 1],
            #   [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]
            #   [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            #   [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1],
            #   [1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1],
            #   [1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1],
            #   [1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1],
            #   [1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1],
            #   [1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0],
            #   [1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1],
            #   [1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],
            #   [1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1],
            #   [1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 1],
            #   [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]
            [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
              [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1],
              [1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1],
              [1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1],
              [1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1],
              [1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1],
              [1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0],
              [1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 1],
              [1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1],
              [1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1],
              [1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 1],
              [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]
}


def get_map(name):
    map = map_list[name]
    return map


def visualize_map(chat_id, map) :
    size = len(map)
    image = np.ones((size*25,size*25,3),np.uint8)
    path = '/Users/dnjsrua59/vscode/capstone/maze_path/{}.jpg'.format(chat_id)
    for i in range(0,size):
        for j in range(0,size):
            if map[j][i] == 1 :
                color = wall
            elif map[j][i] == 5 :
                color = character
            elif map[j][i] == 3 :
                color = destination
            elif map[j][i] == 8 :
                color = fog
            else :
                color = background
            cv2.rectangle(image, (i*25,j*25),(i*25+25,j*25+25),color,-1)
    cv2.imwrite(path, image)
    return path